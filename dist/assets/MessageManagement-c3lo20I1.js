import{r as m,$ as h,h as i,j as e,i as l,S as c}from"./index-Du6Uwkmi.js";import{c as p}from"./index-DJ2Ah1Ch.js";import{A as f}from"./AdminLayout-B1G8E9T6.js";import{R as w}from"./RenderAttachment-CHzExpBj.js";import{T as g}from"./Table-DTsPPQFH.js";import{d as n}from"./sampleData-Lm4jJ_UH.js";import{B as u}from"./Menu-D39zixRf.js";import{A as N}from"./Menu-wUt2zOYa.js";import"./Modal-DdgoaOgr.js";import"./Typography-D1miUXsC.js";import"./ExitToApp-DHmyjwa3.js";import"./Container-CAA9JtHf.js";import"./TextField-BYQxlb9E.js";import"./isMuiElement-D1-MrS4c.js";import"./Tooltip-Cct72D16.js";import"./Toolbar-GU60VVgH.js";import"./MenuItem-CblBUfRF.js";import"./Button-DK210MLF.js";import"./InputAdornment-1L-Srb_k.js";import"./CircularProgress-CXO9Uo61.js";const x=[{field:"id",headerName:"ID",headerClassName:"table-header",width:200},{field:"attachments",headerName:"Attachments",headerClassName:"table-header",width:200,renderCell:a=>{const{attachments:t}=a.row;return(t==null?void 0:t.length)>0?t.map((d,o)=>{const s=d.url,r=l(s);return e.jsx(u,{children:e.jsx("a",{href:s,download:!0,target:"_blank",style:{color:"black"},children:w(r,s)})},o)}):"No Attachments"}},{field:"content",headerName:"Content",headerClassName:"table-header",width:400},{field:"sender",headerName:"Sent By",headerClassName:"table-header",width:200,renderCell:a=>e.jsxs(c,{direction:"row",spacing:"1rem",alignItems:"center",children:[e.jsx(N,{alt:a.row.sender.name,src:a.row.sender.avatar}),e.jsx("span",{children:a.row.sender.name})]})},{field:"chat",headerName:"Chat",headerClassName:"table-header",width:220},{field:"groupChat",headerName:"Group Chat",headerClassName:"table-header",width:100},{field:"createdAt",headerName:"Time",headerClassName:"table-header",width:250}],L=()=>{const{loading:a,data:t,error:d}=p("dashboard-messages"),[o,s]=m.useState([]);return m.useEffect(()=>{n&&s(n.messages.map(r=>({...r,id:r._id,sender:{name:r.sender.name,avatar:h(r.sender.avatar,50)},createdAt:i(r.createdAt).format("MMMM Do YYYY, h:mm:ss a")})))},[t]),e.jsx(f,{children:a?e.jsx(Skeleton,{height:"100vh"}):e.jsx(g,{heading:"All Messages",columns:x,rows:o,rowHeight:200})})};export{L as default};
